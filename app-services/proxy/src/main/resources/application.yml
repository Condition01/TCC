spring:
  application:
    name: proxy

zuul:
  retryable: true
  prefix: /api
  sensitive-headers: Cookie,Set-Cookie

#  ignored-services: *
  routes:
    compras:
      path: /compras/**
      serviceId: compras-service
      stripPrefix: true
      retryable: true
    auth:
      path: /auth/**
      serviceId: auth-service
      stripPrefix: true
      retryable: true

ribbon:
  ConnectTimeout: 3000
  ReadTimeout: 60000

hystrix:
  command:
    compras-service:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 3000

eureka:
  instance:
    preferIpAddress: true
    hostname: localhost
    port: 8081
    leaseRenewalIntervalInSeconds: 2
#    leaseRenewalIntervalInSeconds: 1
#    lease-expiration-duration-in-seconds: 1
    metadataMap:
      instanceId: ${vcap.application.instance_id:${spring.application.name}:${spring.application.instance_id:${server.port}}}
  client:
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:${eureka.instance.port}/eureka/