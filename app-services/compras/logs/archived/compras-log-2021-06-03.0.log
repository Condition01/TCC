2021-06-03 01:12:53,153 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5b4943a1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:53,384 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:12:54,131 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:12:54,335 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:12:54,430 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3f2f40a4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,461 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d7dd08de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,467 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,469 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@514de325' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,470 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fcb1ab90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,473 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,481 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5b4943a1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:12:54,814 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:12:54,829 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:12:54,839 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:12:54,839 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:12:54,979 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:12:54,980 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1580 ms
2021-06-03 01:12:55,066 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:12:55,083 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@4a44cfc0
2021-06-03 01:12:56,232 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 27884ba0-716b-4468-8bfa-87c5e4cf9599

2021-06-03 01:12:56,539 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:12:56,557 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:12:56,557 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:12:56,557 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:12:56,578 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d829ef0, org.springframework.security.web.context.SecurityContextPersistenceFilter@10e56da9, org.springframework.security.web.header.HeaderWriterFilter@3407aa4f, org.springframework.security.web.authentication.logout.LogoutFilter@7ead1d80, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@43e3a390, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22ae905f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d8b66d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4416e18d, org.springframework.security.web.session.SessionManagementFilter@538b3c88, org.springframework.security.web.access.ExceptionTranslationFilter@698d6d30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42107318]
2021-06-03 01:12:56,590 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7be38eba, org.springframework.security.web.context.SecurityContextPersistenceFilter@35e2b89f, org.springframework.security.web.header.HeaderWriterFilter@537ca28e, org.springframework.security.web.csrf.CsrfFilter@ff0e6d4, org.springframework.security.web.authentication.logout.LogoutFilter@658e7ead, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b6def36, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63de4fa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2296127, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2cbe455c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ad889be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c063cb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce3409b, org.springframework.security.web.session.SessionManagementFilter@5b322873, org.springframework.security.web.access.ExceptionTranslationFilter@72a7aa4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34fcd292]
2021-06-03 01:12:56,600 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:12:56,693 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:12:57,174 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:12:57,212 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:12:57,260 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:12:57,260 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:12:57,365 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:12:57,366 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:12:57,505 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:12:57,584 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:12:57,584 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:12:57,584 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:12:57,584 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:12:57,585 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:12:57,585 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:12:57,585 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:12:57,980 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:12:57,983 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:12:57,987 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:12:57,991 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622693577990 with initial instances count: 1
2021-06-03 01:12:57,999 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:12:58,001 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622693578001, current=UP, previous=STARTING]
2021-06-03 01:12:58,004 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:12:58,041 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:12:58,057 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:12:58,086 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:12:58,088 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:12:58,233 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.83 seconds (JVM running for 6.214)
2021-06-03 01:14:13,488 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9c58f018] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:13,708 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:14:14,380 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:14:14,573 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:14:14,659 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$803eed1b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,692 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$18ecb555] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,698 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,701 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1f03fba0' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,702 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3dc15807] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,705 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:14,715 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9c58f018] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:14:15,067 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:14:15,082 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:14:15,090 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:14:15,090 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:14:15,239 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:14:15,240 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1518 ms
2021-06-03 01:14:15,336 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:14:15,356 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@7efa3f63
2021-06-03 01:14:16,436 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f794d4a1-252f-45dc-b6ac-8c9721315af6

2021-06-03 01:14:16,738 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:14:16,752 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:14:16,752 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:14:16,752 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:14:16,772 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@524f5ea5, org.springframework.security.web.context.SecurityContextPersistenceFilter@16a6dc21, org.springframework.security.web.header.HeaderWriterFilter@610fbe1c, org.springframework.security.web.authentication.logout.LogoutFilter@7404ddca, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4899799b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59f45950, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@184afb78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@586843bc, org.springframework.security.web.session.SessionManagementFilter@570b2057, org.springframework.security.web.access.ExceptionTranslationFilter@675ec28b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29dcdd1c]
2021-06-03 01:14:16,788 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b75b890, org.springframework.security.web.context.SecurityContextPersistenceFilter@23ea8830, org.springframework.security.web.header.HeaderWriterFilter@2b9aeedb, org.springframework.security.web.csrf.CsrfFilter@766b6d02, org.springframework.security.web.authentication.logout.LogoutFilter@56d6a1b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42107318, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5bb2fb2b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@70c491b8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3120495d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59a09be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@790ac3e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@439d545c, org.springframework.security.web.session.SessionManagementFilter@63485d7, org.springframework.security.web.access.ExceptionTranslationFilter@5c4f4330, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b96f8b0]
2021-06-03 01:14:16,798 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:14:16,908 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:14:17,479 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:14:17,517 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:14:17,563 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:14:17,564 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:14:17,667 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:14:17,668 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:14:17,789 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:14:17,862 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:14:17,863 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:14:18,111 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:14:18,114 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:14:18,116 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:14:18,119 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622693658118 with initial instances count: 3
2021-06-03 01:14:18,122 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:14:18,123 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622693658123, current=UP, previous=STARTING]
2021-06-03 01:14:18,124 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:14:18,139 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:14:18,166 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:14:18,166 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:14:18,167 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:14:18,262 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.452 seconds (JVM running for 5.824)
2021-06-03 01:19:14,769 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8085-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 01:19:14,769 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Initializing Servlet 'dispatcherServlet'
2021-06-03 01:19:14,778 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Completed initialization in 9 ms
2021-06-03 01:19:14,828 INFO br.com.ifeira.compra.boundary.CarrinhoBoundary [http-nio-8085-exec-1] Recuperando carrinho na feira ffsantana
2021-06-03 01:19:14,834 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Starting...
2021-06-03 01:19:15,121 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Start completed.
2021-06-03 01:19:17,877 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:19:42,194 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-2] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:19:42,229 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8085-exec-2] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 01:19:42,230 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8085-exec-2] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 01:19:42,236 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-2] Using serverListUpdater PollingServerListUpdater
2021-06-03 01:19:42,260 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-2] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:19:42,261 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-2] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@2c8a11e2
2021-06-03 01:19:42,364 INFO br.com.ifeira.compra.boundary.PedidoBoundary [http-nio-8085-exec-2] Recebendo pedido de usuário: brunofc11@gmail.com
2021-06-03 01:19:43,247 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:20:27,715 WARN org.springframework.boot.autoconfigure.security.oauth2.resource.UserInfoTokenServices [http-nio-8085-exec-3] Could not fetch user details: class org.springframework.security.oauth2.client.resource.UserRedirectRequiredException, A redirect is required to get the users approval
2021-06-03 01:20:44,266 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Recebendo pagamento referente ao pedido: null
2021-06-03 01:20:44,277 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:20:44,277 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:20:44,278 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:20:44 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:19:42 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:20:44 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@5c5e7f90, cliente=br.com.ifeira.compra.shared.entity.Pessoa@3418729e, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@76b761fe, cobranca='chr_F7B5DC868AE349546ACF586CF9AA74DF', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:20:44,356 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-4] Attempting to connect to: [localhost:5777]
2021-06-03 01:20:44,420 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-4] Created new connection: rabbitConnectionFactory#3453acd2:0/SimpleConnection@1553a15c [delegate=amqp://guest@127.0.0.1:5777/, localPort= 62296]
2021-06-03 01:24:17,892 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:25:15,499 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$48ac77b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:15,774 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:25:16,790 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:25:17,056 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:25:17,199 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2c9274b8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,258 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c5403cf2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,268 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,272 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4c7e978c' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,276 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$ea14dfa4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,281 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,292 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$48ac77b5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:25:17,717 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8086 (http)
2021-06-03 01:25:17,730 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8086"]
2021-06-03 01:25:17,739 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:25:17,739 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:25:17,877 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:25:17,877 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2085 ms
2021-06-03 01:25:17,968 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:25:17,986 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@798dad3d
2021-06-03 01:25:19,147 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 30044fb7-8547-42be-94d9-980b48496338

2021-06-03 01:25:19,461 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:25:19,486 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:25:19,486 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:25:19,486 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:25:19,512 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78065fcd, org.springframework.security.web.context.SecurityContextPersistenceFilter@55adcf9e, org.springframework.security.web.header.HeaderWriterFilter@582dcd35, org.springframework.security.web.authentication.logout.LogoutFilter@570b2057, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4e50ae56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f5ce33e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eede35e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3407aa4f, org.springframework.security.web.session.SessionManagementFilter@394a6d2b, org.springframework.security.web.access.ExceptionTranslationFilter@1d17423f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13aed42b]
2021-06-03 01:25:19,528 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bb2fb2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f642bf, org.springframework.security.web.header.HeaderWriterFilter@6a6da47a, org.springframework.security.web.csrf.CsrfFilter@5546e754, org.springframework.security.web.authentication.logout.LogoutFilter@2b9e69fb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b09ce57, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50dc49e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2cee5365, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59a09be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43e3a390, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44aa91e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@796c68bf, org.springframework.security.web.session.SessionManagementFilter@8f39224, org.springframework.security.web.access.ExceptionTranslationFilter@7196a8f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@653a5967]
2021-06-03 01:25:19,539 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:25:19,657 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:25:20,181 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:25:20,220 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:25:20,269 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:25:20,269 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:25:20,373 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:25:20,374 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:25:20,492 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:25:20,566 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:25:20,567 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:25:20,567 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:25:20,567 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:25:20,567 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:25:20,568 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:25:20,568 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:25:20,813 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:25:20,816 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:25:20,819 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:25:20,822 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622694320821 with initial instances count: 4
2021-06-03 01:25:20,825 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:25:20,825 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622694320825, current=UP, previous=STARTING]
2021-06-03 01:25:20,827 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086: registering service...
2021-06-03 01:25:20,841 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8086"]
2021-06-03 01:25:20,861 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086 - registration status: 204
2021-06-03 01:25:20,862 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8086 (http) with context path ''
2021-06-03 01:25:20,863 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8086
2021-06-03 01:25:20,951 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 6.507 seconds (JVM running for 6.979)
2021-06-03 01:26:41,737 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086 - Re-registering apps/COMPRAS-SERVICE
2021-06-03 01:26:41,738 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086: registering service...
2021-06-03 01:26:41,755 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086 - registration status: 204
2021-06-03 01:27:18,497 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$220ad1fd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:18,719 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:27:19,390 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:27:19,583 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:27:19,678 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5f0cf00] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,710 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$9e9e973a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,717 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,719 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@73d60e76' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,720 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c37339ec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,723 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:19,734 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$220ad1fd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:27:20,105 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:27:20,119 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:27:20,127 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:27:20,127 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:27:20,259 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:27:20,260 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1528 ms
2021-06-03 01:27:20,344 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:27:20,363 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@6d67f5eb
2021-06-03 01:27:21,524 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2bbacbe9-46ce-4ead-8f8c-3464c0d9ecf7

2021-06-03 01:27:21,913 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:27:21,935 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:27:21,936 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:27:21,936 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:27:21,961 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3407aa4f, org.springframework.security.web.context.SecurityContextPersistenceFilter@1515f782, org.springframework.security.web.header.HeaderWriterFilter@1e6bd263, org.springframework.security.web.authentication.logout.LogoutFilter@a457c2b, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1c68d0db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@638afcaa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64c25a62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51ed2f68, org.springframework.security.web.session.SessionManagementFilter@635ff2a5, org.springframework.security.web.access.ExceptionTranslationFilter@5c70d7f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@698d6d30]
2021-06-03 01:27:21,979 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cee5365, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e3a390, org.springframework.security.web.header.HeaderWriterFilter@8f39224, org.springframework.security.web.csrf.CsrfFilter@ad0bb4e, org.springframework.security.web.authentication.logout.LogoutFilter@19bfbe28, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c4f4330, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@650a1aff, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@796c68bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@790ac3e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44aa91e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50dc49e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56d6a1b1, org.springframework.security.web.session.SessionManagementFilter@7f642bf, org.springframework.security.web.access.ExceptionTranslationFilter@6a6da47a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a85b4e6]
2021-06-03 01:27:21,992 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:27:22,121 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:27:22,767 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:27:22,822 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:27:22,902 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:27:22,902 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:27:23,039 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:27:23,039 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:27:23,204 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:27:23,293 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:27:23,294 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:27:23,294 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:27:23,294 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:27:23,294 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:27:23,295 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:27:23,295 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:27:23,597 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:27:23,602 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:27:23,605 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:27:23,610 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622694443608 with initial instances count: 6
2021-06-03 01:27:23,615 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:27:23,616 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622694443616, current=UP, previous=STARTING]
2021-06-03 01:27:23,618 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:27:23,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:27:23,663 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:27:23,672 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:27:23,675 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:27:23,771 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 6.029 seconds (JVM running for 6.382)
2021-06-03 01:32:23,312 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:36:41,172 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8085-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 01:36:41,173 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-2] Initializing Servlet 'dispatcherServlet'
2021-06-03 01:36:41,180 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-2] Completed initialization in 7 ms
2021-06-03 01:36:41,236 INFO br.com.ifeira.compra.boundary.CarrinhoBoundary [http-nio-8085-exec-2] Recuperando carrinho na feira ffsantana
2021-06-03 01:36:41,242 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-2] HikariPool-1 - Starting...
2021-06-03 01:36:41,500 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-2] HikariPool-1 - Start completed.
2021-06-03 01:36:45,368 INFO br.com.ifeira.compra.boundary.CarrinhoBoundary [http-nio-8085-exec-1] Recuperando carrinho na feira ffsantana
2021-06-03 01:36:50,149 INFO br.com.ifeira.compra.boundary.CarrinhoBoundary [http-nio-8085-exec-3] Recuperando carrinho na feira ffsantana
2021-06-03 01:37:11,142 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-4] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:37:11,179 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8085-exec-4] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 01:37:11,180 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8085-exec-4] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 01:37:11,186 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-4] Using serverListUpdater PollingServerListUpdater
2021-06-03 01:37:11,209 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-4] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:37:11,212 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-4] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@49ab6350
2021-06-03 01:37:11,292 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Recebendo pagamento referente ao pedido: null
2021-06-03 01:37:11,298 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:37:11,298 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:37:11,299 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:37:11 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:37:11 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@5ffaeff9, cliente=br.com.ifeira.compra.shared.entity.Pessoa@625607a3, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@f0c5e47, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:37:11,366 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-4] Attempting to connect to: [localhost:5777]
2021-06-03 01:37:11,425 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-4] Created new connection: rabbitConnectionFactory#42d6c12d:0/SimpleConnection@cd5e12e [delegate=amqp://guest@127.0.0.1:5777/, localPort= 62517]
2021-06-03 01:37:12,190 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:37:23,326 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:37:23,761 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-5] Recebendo pagamento referente ao pedido: null
2021-06-03 01:37:23,761 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:37:23,762 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:37:23,762 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:37:23 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:37:23 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@541c6517, cliente=br.com.ifeira.compra.shared.entity.Pessoa@5adb81e4, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@5ee40e67, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:37:23,765 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-5] Esse pedido já foi feito!
2021-06-03 01:37:40,740 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-6] Recebendo pagamento referente ao pedido: null
2021-06-03 01:37:40,741 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:37:40,741 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:37:40,742 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:37:40 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:37:40 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@7820ec67, cliente=br.com.ifeira.compra.shared.entity.Pessoa@76e71d13, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@72d88717, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:37:40,745 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-6] Esse pedido já foi feito!
2021-06-03 01:37:42,257 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-7] Recebendo pagamento referente ao pedido: null
2021-06-03 01:37:42,258 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-7] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:37:42,258 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-7] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:37:42,259 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-7] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:37:42 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:37:42 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@22648d78, cliente=br.com.ifeira.compra.shared.entity.Pessoa@2ca37744, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@289ce608, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:37:42,262 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-7] Esse pedido já foi feito!
2021-06-03 01:37:47,087 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-8] Recebendo pagamento referente ao pedido: null
2021-06-03 01:37:47,088 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-8] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:37:47,088 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-8] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:37:47,088 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-8] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:37:47 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:37:47 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@11f8248f, cliente=br.com.ifeira.compra.shared.entity.Pessoa@1f3fc8c0, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@1b004fff, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:37:47,092 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-8] Esse pedido já foi feito!
2021-06-03 01:38:33,990 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-9] Recebendo pagamento referente ao pedido: null
2021-06-03 01:38:33,991 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-9] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:38:33,992 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-9] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:38:33,992 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-9] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:38:33 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:36:13 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:38:33 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@3822317c, cliente=br.com.ifeira.compra.shared.entity.Pessoa@56bf0aa3, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@55cdee7c, cobranca='chr_704A9414DE3CBE3B6E0246F45B8EB1A6', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:38:33,996 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-9] Esse pedido já foi feito!
2021-06-03 01:40:31,014 INFO br.com.ifeira.compra.boundary.PedidoBoundary [http-nio-8085-exec-10] Recebendo pedido de usuário: brunofc11@gmail.com
2021-06-03 01:42:23,337 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:42:38,407 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8be16088] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:38,639 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:42:39,344 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:42:39,527 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:42:39,631 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6fc75d8b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,665 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$87525c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,670 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,673 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44ed0a8f' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,675 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2d49c877] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,678 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:39,688 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8be16088] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:42:40,053 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:42:40,068 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:42:40,075 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:42:40,076 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:42:40,213 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:42:40,213 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1560 ms
2021-06-03 01:42:40,311 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:42:40,331 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@2f10f633
2021-06-03 01:42:41,475 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 90cf359f-84c7-4ec2-940b-e4bc7955ea3c

2021-06-03 01:42:41,791 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:42:41,810 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:42:41,810 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:42:41,811 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:42:41,831 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12cd129c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c70d7f0, org.springframework.security.web.header.HeaderWriterFilter@63e4484d, org.springframework.security.web.authentication.logout.LogoutFilter@66a82a13, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4ebd6fd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e6bd263, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58601e7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a717d79, org.springframework.security.web.session.SessionManagementFilter@77663cd7, org.springframework.security.web.access.ExceptionTranslationFilter@799c8758, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54a056e4]
2021-06-03 01:42:41,844 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b9aeedb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5546e754, org.springframework.security.web.header.HeaderWriterFilter@40c76f5a, org.springframework.security.web.csrf.CsrfFilter@fe8aaeb, org.springframework.security.web.authentication.logout.LogoutFilter@43e3a390, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11c7a0b4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a6da47a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@63485d7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6b09ce57, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ad0bb4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7196a8f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23ea8830, org.springframework.security.web.session.SessionManagementFilter@a323a5b, org.springframework.security.web.access.ExceptionTranslationFilter@5cf0673d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19bfbe28]
2021-06-03 01:42:41,855 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:42:41,965 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:42:42,490 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:42:42,535 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:42:42,586 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:42:42,586 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:42:42,701 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:42:42,701 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:42:42,833 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:42:42,907 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:42:42,908 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:42:43,172 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:42:43,174 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:42:43,176 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:42:43,181 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622695363179 with initial instances count: 6
2021-06-03 01:42:43,184 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:42:43,184 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622695363184, current=UP, previous=STARTING]
2021-06-03 01:42:43,186 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:42:43,200 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:42:43,218 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:42:43,220 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:42:43,221 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:42:43,308 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.585 seconds (JVM running for 5.957)
2021-06-03 01:46:41,347 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8085-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 01:46:41,348 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Initializing Servlet 'dispatcherServlet'
2021-06-03 01:46:41,355 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Completed initialization in 7 ms
2021-06-03 01:46:41,537 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:46:41,566 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8085-exec-1] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 01:46:41,567 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8085-exec-1] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 01:46:41,573 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] Using serverListUpdater PollingServerListUpdater
2021-06-03 01:46:41,595 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:46:41,597 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@b6dea2f
2021-06-03 01:46:41,693 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-1] Recebendo pagamento referente ao pedido: null
2021-06-03 01:46:41,700 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:46:41,700 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:46:41,701 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:46:41 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:46:31 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:46:41 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@67be4d5f, cliente=br.com.ifeira.compra.shared.entity.Pessoa@45ee3455, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@3b148896, cobranca='chr_683955C42F9E2C1951B3059D27A2E626', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:46:41,705 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Starting...
2021-06-03 01:46:41,952 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Start completed.
2021-06-03 01:46:42,058 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-1] Attempting to connect to: [localhost:5777]
2021-06-03 01:46:42,122 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-1] Created new connection: rabbitConnectionFactory#56cc9f29:0/SimpleConnection@69e93473 [delegate=amqp://guest@127.0.0.1:5777/, localPort= 58456]
2021-06-03 01:46:42,585 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:47:20,832 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-2] Recebendo pagamento referente ao pedido: null
2021-06-03 01:47:20,832 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:47:20,832 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:47:20,833 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:47:20 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:46:31 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:47:20 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@6e0526c9, cliente=br.com.ifeira.compra.shared.entity.Pessoa@60c2c579, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@64fd4db9, cobranca='chr_683955C42F9E2C1951B3059D27A2E626', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:47:20,837 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-2] Esse pedido já foi feito!
2021-06-03 01:47:42,909 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:50:43,335 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-3] Recebendo pagamento referente ao pedido: null
2021-06-03 01:50:43,336 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:50:43,336 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:50:43,337 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:50:43 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:46:31 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:50:43 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@236280e6, cliente=br.com.ifeira.compra.shared.entity.Pessoa@2da56afa, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@299aeb96, cobranca='chr_683955C42F9E2C1951B3059D27A2E626', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:50:43,341 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-3] Esse pedido já foi feito!
2021-06-03 01:50:56,897 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Recebendo pagamento referente ao pedido: null
2021-06-03 01:50:56,898 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:50:56,898 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:50:56,898 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:50:56 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:46:31 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:50:56 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@2678414d, cliente=br.com.ifeira.compra.shared.entity.Pessoa@28bfabf2, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@2c802a3d, cobranca='chr_683955C42F9E2C1951B3059D27A2E626', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:50:56,902 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Esse pedido já foi feito!
2021-06-03 01:52:42,910 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 01:55:24,698 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$33f427f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:24,917 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:55:25,607 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:55:25,796 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:55:25,880 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$17da24f9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,909 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b087ed33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,914 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,917 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5c441290' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,919 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d55c8fe5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,923 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:25,934 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$33f427f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:55:26,328 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:55:26,342 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:55:26,351 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:55:26,351 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:55:26,479 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:55:26,479 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1548 ms
2021-06-03 01:55:26,567 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:55:26,586 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@7112ce6
2021-06-03 01:55:27,686 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c68a60b9-369c-4995-aa56-ca316d960aab

2021-06-03 01:55:27,960 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:55:27,974 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:55:27,975 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:55:27,975 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:55:27,993 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fbaa7f5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1515f782, org.springframework.security.web.header.HeaderWriterFilter@1e6bd263, org.springframework.security.web.authentication.logout.LogoutFilter@a457c2b, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1c68d0db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@638afcaa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64c25a62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b3056a6, org.springframework.security.web.session.SessionManagementFilter@635ff2a5, org.springframework.security.web.access.ExceptionTranslationFilter@5c70d7f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22ae905f]
2021-06-03 01:55:28,005 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3120495d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b9aeedb, org.springframework.security.web.header.HeaderWriterFilter@6b09ce57, org.springframework.security.web.csrf.CsrfFilter@653a5967, org.springframework.security.web.authentication.logout.LogoutFilter@2cee5365, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b170932, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59a09be, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@781c2497, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4416e18d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63485d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23ea8830, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b75b890, org.springframework.security.web.session.SessionManagementFilter@5c4f4330, org.springframework.security.web.access.ExceptionTranslationFilter@766b6d02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d512652]
2021-06-03 01:55:28,015 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:55:28,125 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:55:28,603 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:55:28,641 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:55:28,690 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:55:28,691 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:55:28,788 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:55:28,789 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:55:28,918 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:55:28,994 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:55:28,995 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:55:29,226 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:55:29,229 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:55:29,231 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:55:29,233 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696129232 with initial instances count: 6
2021-06-03 01:55:29,236 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:55:29,236 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696129236, current=UP, previous=STARTING]
2021-06-03 01:55:29,238 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:55:29,251 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:55:29,271 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:55:29,272 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:55:29,275 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:55:29,357 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.318 seconds (JVM running for 5.66)
2021-06-03 01:55:34,602 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8085-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 01:55:34,602 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Initializing Servlet 'dispatcherServlet'
2021-06-03 01:55:34,609 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Completed initialization in 6 ms
2021-06-03 01:55:34,755 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:55:34,782 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8085-exec-1] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 01:55:34,782 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8085-exec-1] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 01:55:34,787 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] Using serverListUpdater PollingServerListUpdater
2021-06-03 01:55:34,805 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:55:34,807 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@30e7bb93
2021-06-03 01:55:34,912 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-1] Recebendo pagamento referente ao pedido: null
2021-06-03 01:55:34,917 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:55:34,917 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:55:34,918 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-1] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:55:34 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:46:31 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:55:34 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@14360bc, cliente=br.com.ifeira.compra.shared.entity.Pessoa@36ae12fe, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@5a002a45, cobranca='chr_683955C42F9E2C1951B3059D27A2E626', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:55:34,922 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Starting...
2021-06-03 01:55:35,155 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Start completed.
2021-06-03 01:55:35,238 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-1] PreparedStatementCallback; SQL [SELECT NUMERO FROM PEDIDO p WHERE COBRANCA LIKE '%?%']; Parameter index out of range (1 > number of parameters, which is 0).; nested exception is java.sql.SQLException: Parameter index out of range (1 > number of parameters, which is 0).
2021-06-03 01:55:35,800 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:56:49,559 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2435b21d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:49,773 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:56:50,440 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:56:50,624 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:56:50,736 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$81baf20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,765 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$a0c9775a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,770 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,773 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3bd6ba24' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,776 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$c59e1a0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,780 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:50,790 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$2435b21d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:56:51,145 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:56:51,158 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:56:51,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:56:51,165 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:56:51,294 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:56:51,295 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1509 ms
2021-06-03 01:56:51,380 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:56:51,396 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@e280403
2021-06-03 01:56:52,518 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 937df421-8835-44eb-8741-7c583711ed83

2021-06-03 01:56:52,794 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:56:52,808 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:56:52,808 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:56:52,809 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:56:52,827 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4264beb8, org.springframework.security.web.context.SecurityContextPersistenceFilter@570b2057, org.springframework.security.web.header.HeaderWriterFilter@675ec28b, org.springframework.security.web.authentication.logout.LogoutFilter@4ebd6fd6, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6704df84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16a6dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c6e3ff9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@647fb583, org.springframework.security.web.session.SessionManagementFilter@610fbe1c, org.springframework.security.web.access.ExceptionTranslationFilter@43e8f1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5599b5bb]
2021-06-03 01:56:52,838 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a0f349, org.springframework.security.web.context.SecurityContextPersistenceFilter@56d6a1b1, org.springframework.security.web.header.HeaderWriterFilter@2cee5365, org.springframework.security.web.csrf.CsrfFilter@59a09be, org.springframework.security.web.authentication.logout.LogoutFilter@3b96f8b0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@781c2497, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5e69cf07, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c60c681, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c2b6acb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a7163e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44da7eb3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b3a9ef4, org.springframework.security.web.session.SessionManagementFilter@796c68bf, org.springframework.security.web.access.ExceptionTranslationFilter@5bb2fb2b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4416e18d]
2021-06-03 01:56:52,849 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:56:52,960 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:56:53,483 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:56:53,522 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:56:53,573 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:56:53,574 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:56:53,682 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:56:53,683 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:56:53,820 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:56:53,893 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:56:53,894 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:56:53,894 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:56:53,894 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:56:53,894 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:56:53,894 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:56:53,895 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:56:54,134 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:56:54,137 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:56:54,140 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:56:54,144 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696214142 with initial instances count: 5
2021-06-03 01:56:54,148 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:56:54,149 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696214149, current=UP, previous=STARTING]
2021-06-03 01:56:54,151 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:56:54,164 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:56:54,185 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:56:54,185 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:56:54,186 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:56:54,274 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.372 seconds (JVM running for 5.706)
2021-06-03 01:57:26,216 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8085-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 01:57:26,216 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Initializing Servlet 'dispatcherServlet'
2021-06-03 01:57:26,223 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8085-exec-1] Completed initialization in 7 ms
2021-06-03 01:57:26,380 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:57:26,417 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8085-exec-1] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 01:57:26,417 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8085-exec-1] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 01:57:26,423 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] Using serverListUpdater PollingServerListUpdater
2021-06-03 01:57:26,446 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8085-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:57:26,448 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8085-exec-1] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@4b230c93
2021-06-03 01:57:26,543 INFO br.com.ifeira.compra.boundary.PedidoBoundary [http-nio-8085-exec-1] Recebendo pedido de usuário: brunofc11@gmail.com
2021-06-03 01:57:26,549 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Starting...
2021-06-03 01:57:26,794 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8085-exec-1] HikariPool-1 - Start completed.
2021-06-03 01:57:27,435 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 01:57:36,729 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-3] Recebendo pagamento referente ao pedido: null
2021-06-03 01:57:36,734 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:57:36,735 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:57:36,736 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-3] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:57:36 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:57:36 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@1f60aa2d, cliente=br.com.ifeira.compra.shared.entity.Pessoa@9967e42, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@1f96e73f, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:57:36,803 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-3] Attempting to connect to: [localhost:5777]
2021-06-03 01:57:36,854 INFO org.springframework.amqp.rabbit.connection.AbstractConnectionFactory [http-nio-8085-exec-3] Created new connection: rabbitConnectionFactory#76cf841:0/SimpleConnection@59144ec8 [delegate=amqp://guest@127.0.0.1:5777/, localPort= 50875]
2021-06-03 01:57:56,373 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-2] Recebendo pagamento referente ao pedido: null
2021-06-03 01:57:56,373 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:57:56,374 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:57:56,375 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-2] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:57:56 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:57:56 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@5ea0b875, cliente=br.com.ifeira.compra.shared.entity.Pessoa@50675dd1, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@5458d305, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:57:56,379 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-2] Esse pedido já foi feito!
2021-06-03 01:57:57,860 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Recebendo pagamento referente ao pedido: null
2021-06-03 01:57:57,861 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:57:57,861 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:57:57,862 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-4] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:57:57 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:57:57 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@7ad3c341, cliente=br.com.ifeira.compra.shared.entity.Pessoa@7414326b, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@702ba831, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:57:57,865 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-4] Esse pedido já foi feito!
2021-06-03 01:57:58,500 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-5] Recebendo pagamento referente ao pedido: null
2021-06-03 01:57:58,500 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:57:58,501 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:57:58,501 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-5] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:57:58 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:57:58 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@4dd760d, cliente=br.com.ifeira.compra.shared.entity.Pessoa@a1a98e6, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@e251d7d, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:57:58,504 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-5] Esse pedido já foi feito!
2021-06-03 01:57:59,112 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-6] Recebendo pagamento referente ao pedido: null
2021-06-03 01:57:59,112 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 01:57:59,113 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 01:57:59,113 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8085-exec-6] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 01:57:59 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 01:57:59 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@510e4c, cliente=br.com.ifeira.compra.shared.entity.Pessoa@6f17931, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@3077316d, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 01:57:59,116 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8085-exec-6] Esse pedido já foi feito!
2021-06-03 01:59:17,066 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f14a83bf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:17,282 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:59:17,942 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:59:18,121 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:59:18,208 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d53080c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,243 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6dde48fc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,249 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,252 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@58f437b0' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,255 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$92b2ebae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,259 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,269 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f14a83bf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:18,616 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:59:18,628 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:59:18,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:59:18,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:59:18,766 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:59:18,766 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1470 ms
2021-06-03 01:59:18,853 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:59:18,871 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@1319bc2a
2021-06-03 01:59:20,162 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 6a6c6e2d-8b59-4b22-94ad-768c961956a7

2021-06-03 01:59:20,529 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:59:20,552 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:59:20,553 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:59:20,554 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:59:20,594 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5599b5bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@58164e9a, org.springframework.security.web.header.HeaderWriterFilter@16a6dc21, org.springframework.security.web.authentication.logout.LogoutFilter@1c68d0db, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7fc7152e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a7a1a0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40dd552c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ff66917, org.springframework.security.web.session.SessionManagementFilter@59f45950, org.springframework.security.web.access.ExceptionTranslationFilter@570b2057, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17134190]
2021-06-03 01:59:20,622 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c2b6acb, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cee5365, org.springframework.security.web.header.HeaderWriterFilter@790ac3e0, org.springframework.security.web.csrf.CsrfFilter@63485d7, org.springframework.security.web.authentication.logout.LogoutFilter@3d512652, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5dfc2a4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1a7163e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@28367da7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@439d545c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@796c68bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56d6a1b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a0f349, org.springframework.security.web.session.SessionManagementFilter@5bb2fb2b, org.springframework.security.web.access.ExceptionTranslationFilter@59a09be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e4f4092]
2021-06-03 01:59:20,640 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:59:20,837 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:59:21,493 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:59:21,588 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:59:21,696 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:59:21,697 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:59:21,902 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:59:21,902 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:59:22,065 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:59:22,151 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:59:22,152 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:59:22,152 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:59:22,152 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 01:59:22,152 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 01:59:22,152 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 01:59:22,153 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 01:59:22,461 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 01:59:22,465 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 01:59:22,470 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 01:59:22,474 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696362473 with initial instances count: 5
2021-06-03 01:59:22,480 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 01:59:22,481 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696362481, current=UP, previous=STARTING]
2021-06-03 01:59:22,484 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:59:22,505 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 01:59:22,540 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:59:22,544 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 01:59:22,545 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 01:59:22,660 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 6.353 seconds (JVM running for 6.708)
2021-06-03 01:59:30,588 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - Re-registering apps/COMPRAS-SERVICE
2021-06-03 01:59:30,588 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 01:59:30,605 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 01:59:55,652 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dff1a320] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:55,873 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 01:59:56,634 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 01:59:56,841 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 01:59:56,932 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c3d7a023] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,965 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5c85685d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,972 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,975 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@9679750' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,978 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$815a0b0f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,982 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:56,993 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dff1a320] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 01:59:57,361 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 01:59:57,375 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 01:59:57,383 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 01:59:57,383 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 01:59:57,513 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 01:59:57,513 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1626 ms
2021-06-03 01:59:57,600 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:59:57,617 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@6ff0b1cc
2021-06-03 01:59:58,668 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e7d8d76c-7cfe-47b7-bea0-22af78ff0bd9

2021-06-03 01:59:58,948 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 01:59:58,962 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 01:59:58,962 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 01:59:58,962 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 01:59:58,982 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17134190, org.springframework.security.web.context.SecurityContextPersistenceFilter@59f45950, org.springframework.security.web.header.HeaderWriterFilter@570b2057, org.springframework.security.web.authentication.logout.LogoutFilter@4438938e, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@74500e4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58164e9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f26425b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d8b66d9, org.springframework.security.web.session.SessionManagementFilter@16a6dc21, org.springframework.security.web.access.ExceptionTranslationFilter@610fbe1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@524f5ea5]
2021-06-03 01:59:58,994 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@439d545c, org.springframework.security.web.context.SecurityContextPersistenceFilter@790ac3e0, org.springframework.security.web.header.HeaderWriterFilter@23ea8830, org.springframework.security.web.csrf.CsrfFilter@5c4f4330, org.springframework.security.web.authentication.logout.LogoutFilter@44da7eb3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d829ef0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@796c68bf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5a3cf824, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b75b890, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bb2fb2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2cee5365, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c2b6acb, org.springframework.security.web.session.SessionManagementFilter@59a09be, org.springframework.security.web.access.ExceptionTranslationFilter@63485d7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1fc0d9b4]
2021-06-03 01:59:59,004 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 01:59:59,110 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 01:59:59,607 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 01:59:59,646 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 01:59:59,699 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 01:59:59,699 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 01:59:59,803 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 01:59:59,803 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 01:59:59,929 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 01:59:59,999 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 01:59:59,999 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 01:59:59,999 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 01:59:59,999 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 02:00:00,000 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 02:00:00,000 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 02:00:00,000 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 02:00:00,247 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 02:00:00,249 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 02:00:00,251 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 02:00:00,254 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696400253 with initial instances count: 5
2021-06-03 02:00:00,257 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 02:00:00,257 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696400257, current=UP, previous=STARTING]
2021-06-03 02:00:00,259 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 02:00:00,273 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 02:00:00,295 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 02:00:00,295 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 02:00:00,295 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 02:00:00,376 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 5.406 seconds (JVM running for 5.753)
2021-06-03 02:00:18,472 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - Re-registering apps/COMPRAS-SERVICE
2021-06-03 02:00:18,472 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 02:00:18,488 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 02:00:31,412 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$80d65c16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:31,628 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 02:00:32,335 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 02:00:32,511 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 02:00:32,594 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64bc5919] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,624 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$fd6a2153] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,631 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,633 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@257e0827' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,634 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$223ec405] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,637 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:32,647 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$80d65c16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:00:33,048 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2021-06-03 02:00:33,063 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2021-06-03 02:00:33,076 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 02:00:33,076 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 02:00:33,240 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 02:00:33,241 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1600 ms
2021-06-03 02:00:33,361 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 02:00:33,384 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@3af58f76
2021-06-03 02:00:34,749 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 0fcc44ad-11c2-4af4-a1c6-e1f540a47d83

2021-06-03 02:00:35,136 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 02:00:35,157 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 02:00:35,157 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 02:00:35,157 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 02:00:35,181 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d512652, org.springframework.security.web.context.SecurityContextPersistenceFilter@28cb86b2, org.springframework.security.web.header.HeaderWriterFilter@51ed2f68, org.springframework.security.web.authentication.logout.LogoutFilter@5599b5bb, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@a323a5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@748904e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f235e8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c2e3460, org.springframework.security.web.session.SessionManagementFilter@19b9f903, org.springframework.security.web.access.ExceptionTranslationFilter@78065fcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44da7eb3]
2021-06-03 02:00:35,197 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b6def36, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b4927e5, org.springframework.security.web.header.HeaderWriterFilter@7606bd03, org.springframework.security.web.csrf.CsrfFilter@26ca12a2, org.springframework.security.web.authentication.logout.LogoutFilter@5b322873, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@762bf32d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@70d3cdbf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3957d88b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@63db743d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c5da4f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ff0e6d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1152900, org.springframework.security.web.session.SessionManagementFilter@afee63, org.springframework.security.web.access.ExceptionTranslationFilter@60dcf9ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18907af2]
2021-06-03 02:00:35,212 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 02:00:35,342 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 02:00:36,012 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 02:00:36,056 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 02:00:36,116 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 02:00:36,117 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 02:00:36,244 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 02:00:36,244 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 02:00:36,405 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 02:00:36,481 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 02:00:36,482 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 02:00:36,789 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 02:00:36,792 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 02:00:36,795 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 02:00:36,799 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696436798 with initial instances count: 5
2021-06-03 02:00:36,804 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 02:00:36,805 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696436805, current=UP, previous=STARTING]
2021-06-03 02:00:36,807 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 02:00:36,827 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2021-06-03 02:00:36,851 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 02:00:36,852 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2021-06-03 02:00:36,853 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8085
2021-06-03 02:00:36,945 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 6.196 seconds (JVM running for 6.554)
2021-06-03 02:00:42,864 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - Re-registering apps/COMPRAS-SERVICE
2021-06-03 02:00:42,865 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085: registering service...
2021-06-03 02:00:42,871 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-HeartbeatExecutor-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8085 - registration status: 204
2021-06-03 02:00:59,885 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$6132a606] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:00,106 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2021-06-03 02:01:01,011 WARN org.springframework.boot.actuate.endpoint.EndpointId [main] Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-06-03 02:01:01,250 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=b74c1485-ffcc-35f3-8553-690eb7b52961
2021-06-03 02:01:01,374 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4518a309] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,416 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ddc66b43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,424 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,428 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@57cb70be' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,432 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$29b0df5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,438 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,451 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$6132a606] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-03 02:01:01,908 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8086 (http)
2021-06-03 02:01:01,921 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8086"]
2021-06-03 02:01:01,929 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-06-03 02:01:01,929 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.27]
2021-06-03 02:01:02,115 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-06-03 02:01:02,115 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1995 ms
2021-06-03 02:01:02,233 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 02:01:02,257 INFO com.netflix.config.DynamicPropertyFactory [main] DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@64e1377c
2021-06-03 02:01:03,747 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 9941c3c0-87f1-4fed-8944-2609af9753c8

2021-06-03 02:01:04,139 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2021-06-03 02:01:04,163 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/produto/**'], []
2021-06-03 02:01:04,164 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/feira/**'], []
2021-06-03 02:01:04,164 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Mvc [pattern='/carrinho/**'], []
2021-06-03 02:01:04,195 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@362a561e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4438938e, org.springframework.security.web.header.HeaderWriterFilter@4ebd6fd6, org.springframework.security.web.authentication.logout.LogoutFilter@6ee37ca7, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@538b3c88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c68d0db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@609b041c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df3545d, org.springframework.security.web.session.SessionManagementFilter@7404ddca, org.springframework.security.web.access.ExceptionTranslationFilter@40dd552c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a785fd5]
2021-06-03 02:01:04,214 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b3f4bd8, org.springframework.security.web.context.SecurityContextPersistenceFilter@5dfc2a4, org.springframework.security.web.header.HeaderWriterFilter@5d829ef0, org.springframework.security.web.csrf.CsrfFilter@1fc0d9b4, org.springframework.security.web.authentication.logout.LogoutFilter@5a3cf824, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73aaec54, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@b75b890, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3e151e1f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@36211bbc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3120495d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@781c2497, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d70e9a, org.springframework.security.web.session.SessionManagementFilter@4416e18d, org.springframework.security.web.access.ExceptionTranslationFilter@4e4f4092, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a1371]
2021-06-03 02:01:04,229 INFO com.netflix.config.sources.URLConfigurationSource [main] URLs to be used as dynamic configuration source: [jar:file:/C:/Users/bruno/Desktop/Projetos/TCC/app-services/compras/compra-shared/build/libs/compra-shared-1.0-SNAPSHOT.jar!/config.properties]
2021-06-03 02:01:04,396 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2021-06-03 02:01:05,135 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2021-06-03 02:01:05,203 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2021-06-03 02:01:05,277 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON encoding codec LegacyJacksonJson
2021-06-03 02:01:05,278 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using JSON decoding codec LegacyJacksonJson
2021-06-03 02:01:05,451 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML encoding codec XStreamXml
2021-06-03 02:01:05,452 INFO com.netflix.discovery.provider.DiscoveryJerseyProvider [main] Using XML decoding codec XStreamXml
2021-06-03 02:01:05,621 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2021-06-03 02:01:05,716 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2021-06-03 02:01:05,716 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2021-06-03 02:01:05,716 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2021-06-03 02:01:05,716 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2021-06-03 02:01:05,717 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2021-06-03 02:01:05,717 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2021-06-03 02:01:05,718 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2021-06-03 02:01:06,049 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2021-06-03 02:01:06,053 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 2
2021-06-03 02:01:06,056 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-06-03 02:01:06,061 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1622696466059 with initial instances count: 5
2021-06-03 02:01:06,066 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application COMPRAS-SERVICE with eureka with status UP
2021-06-03 02:01:06,067 INFO com.netflix.discovery.DiscoveryClient$3 [main] Saw local status change event StatusChangeEvent [timestamp=1622696466067, current=UP, previous=STARTING]
2021-06-03 02:01:06,070 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086: registering service...
2021-06-03 02:01:06,093 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8086"]
2021-06-03 02:01:06,118 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_COMPRAS-SERVICE/host.docker.internal:compras-service:8086 - registration status: 204
2021-06-03 02:01:06,130 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8086 (http) with context path ''
2021-06-03 02:01:06,131 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8086
2021-06-03 02:01:06,272 INFO org.springframework.boot.StartupInfoLogger [main] Started ComprasApplication in 7.039 seconds (JVM running for 7.393)
2021-06-03 02:01:54,714 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8086-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-06-03 02:01:54,714 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8086-exec-1] Initializing Servlet 'dispatcherServlet'
2021-06-03 02:01:54,720 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8086-exec-1] Completed initialization in 6 ms
2021-06-03 02:01:54,863 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8086-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 02:01:54,888 INFO com.netflix.util.concurrent.ShutdownEnabledTimer [http-nio-8086-exec-1] Shutdown hook installed for: NFLoadBalancer-PingTimer-auth-service
2021-06-03 02:01:54,888 INFO com.netflix.loadbalancer.BaseLoadBalancer [http-nio-8086-exec-1] Client: auth-service instantiated a LoadBalancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:null
2021-06-03 02:01:54,894 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8086-exec-1] Using serverListUpdater PollingServerListUpdater
2021-06-03 02:01:54,916 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [http-nio-8086-exec-1] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 02:01:54,918 INFO com.netflix.loadbalancer.DynamicServerListLoadBalancer [http-nio-8086-exec-1] DynamicServerListLoadBalancer for client auth-service initialized: DynamicServerListLoadBalancer:{NFLoadBalancer:name=auth-service,current list of Servers=[192.168.0.113:auth-service:9092],Load balancer stats=Zone stats: {defaultzone=[Zone:defaultzone;	Instance count:1;	Active connections count: 0;	Circuit breaker tripped count: 0;	Active connections per server: 0.0;]
},Server stats: [[Server:192.168.0.113:auth-service:9092;	Zone:defaultZone;	Total Requests:0;	Successive connection failure:0;	Total blackout seconds:0;	Last connection made:Wed Dec 31 21:00:00 BRT 1969;	First connection made: Wed Dec 31 21:00:00 BRT 1969;	Active Connections:0;	total failure count in last (1000) msecs:0;	average resp time:0.0;	90 percentile resp time:0.0;	95 percentile resp time:0.0;	min resp time:0.0;	max resp time:0.0;	stddev resp time:0.0]
]}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@78d399ef
2021-06-03 02:01:55,020 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-1] Recebendo pagamento referente ao pedido: null
2021-06-03 02:01:55,025 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-1] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:01:55,025 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-1] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:01:55,026 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-1] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:01:55 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:01:55 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@7fde5fea, cliente=br.com.ifeira.compra.shared.entity.Pessoa@20a02130, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@ad2c1f2, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:01:55,030 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8086-exec-1] HikariPool-1 - Starting...
2021-06-03 02:01:55,280 INFO com.zaxxer.hikari.HikariDataSource [http-nio-8086-exec-1] HikariPool-1 - Start completed.
2021-06-03 02:01:55,313 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-1] Esse pedido já foi feito!
2021-06-03 02:01:55,898 INFO com.netflix.config.ChainedDynamicProperty$ChainLink [PollingServerListUpdater-0] Flipping property: auth-service.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647
2021-06-03 02:01:57,574 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-2] Recebendo pagamento referente ao pedido: null
2021-06-03 02:01:57,575 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-2] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:01:57,575 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-2] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:01:57,576 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-2] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:01:57 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:01:57 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@65512f99, cliente=br.com.ifeira.compra.shared.entity.Pessoa@6b96cd43, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@6fa944e9, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:01:57,580 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-2] Esse pedido já foi feito!
2021-06-03 02:01:58,980 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-3] Recebendo pagamento referente ao pedido: null
2021-06-03 02:01:58,981 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-3] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:01:58,981 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-3] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:01:58,981 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-3] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:01:58 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:01:58 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@65cb418b, cliente=br.com.ifeira.compra.shared.entity.Pessoa@6b0cb342, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@6f332afb, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:01:58,984 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-3] Esse pedido já foi feito!
2021-06-03 02:02:00,447 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-4] Recebendo pagamento referente ao pedido: null
2021-06-03 02:02:00,447 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-4] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:02:00,448 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-4] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:02:00,448 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-4] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:02:00 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:02:00 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@5282df4, cliente=br.com.ifeira.compra.shared.entity.Pessoa@befc321, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@fd04684, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:02:00,451 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-4] Esse pedido já foi feito!
2021-06-03 02:02:01,729 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-5] Recebendo pagamento referente ao pedido: null
2021-06-03 02:02:01,730 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-5] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:02:01,730 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-5] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:02:01,730 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-5] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:02:01 BRT 2021, pedido=Pedido{data=Thu Jun 03 01:57:26 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:02:01 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@6580e210, cliente=br.com.ifeira.compra.shared.entity.Pessoa@6b4710d0, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@6f788960, cobranca='chr_BF247EE50F9DBE33398F7B364079AE1B', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:02:01,733 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-5] Esse pedido já foi feito!
2021-06-03 02:02:28,318 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-6] Recebendo pagamento referente ao pedido: null
2021-06-03 02:02:28,319 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-6] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:02:28,319 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-6] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:02:28,319 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-6] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:02:28 BRT 2021, pedido=Pedido{data=Thu Jun 03 02:02:07 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:02:28 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@1c5b853e, cliente=br.com.ifeira.compra.shared.entity.Pessoa@ecd9d9, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@73477ade, cobranca='chr_9A1B5566E8AA5A3CE00623C91549CF7E', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:02:28,322 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-6] Esse pedido já foi feito!
2021-06-03 02:02:32,527 INFO br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-8] Recebendo pagamento referente ao pedido: null
2021-06-03 02:02:32,528 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-8] HANDLER-LOGS -> Recebendo pagamento para ser processado...
2021-06-03 02:02:32,528 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-8] HANDLER-LOGS -> Pessoa vinculada: brunofc11@gmail.com
2021-06-03 02:02:32,528 INFO br.com.ifeira.compra.handlers.HandlerLogs [http-nio-8086-exec-8] HANDLER-LOGS -> Objeto: Pagamento{statusPagamento=PENDENTE, data=Thu Jun 03 02:02:32 BRT 2021, pedido=Pedido{data=Thu Jun 03 02:02:07 BRT 2021, statusPedido=PENDENTE, numeroPedido=null, dataEntrega=Fri Jun 04 02:02:32 BRT 2021, cupom=br.com.ifeira.compra.shared.entity.Cupom@3b874ed, cliente=br.com.ifeira.compra.shared.entity.Pessoa@d7f9aea, carrinho=br.com.ifeira.compra.shared.entity.Carrinho@9401f9d, cobranca='chr_9A1B5566E8AA5A3CE00623C91549CF7E', valorTotal=42.44, valorOriginal=47.16}}
2021-06-03 02:02:32,531 ERROR br.com.ifeira.compra.boundary.PagamentoBoundary [http-nio-8086-exec-8] Esse pedido já foi feito!
2021-06-03 02:06:05,726 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2021-06-03 02:11:05,734 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
